{
  "layer": "top",
  "position": "top",
  "autohide": true,
  "autohide-blocked": false,
  "exclusive": true,
  "margin-top": 5,
  "margin-left": 5,
  "margin-right": 5,
  "passthrough": false,
  "gtk-layer-shell": true,
  "style": "~/.config/waybar/style.css",

  "modules-left": [
    "clock",
    "custom/cpu",
    "memory",
    "wlr/taskbar"
  ],
  "modules-center": [
    "hyprland/workspaces"
  ],
  "modules-right": [
    "pulseaudio",
    "backlight",
    "custom/battery",
    "network",
    "custom/notification",
    "custom/power"
  ],

  /* === Modules Left === */

  "clock": {
    "timezone": "Asia/Calcutta",
    "format": "{:%I:%M:%S %p %d/%m/%Y}",
    "tooltip-format": "{calendar}",
    "calendar": {
      "mode": "month"
    },
    "interval": 1
  },

  "custom/cpu": {
    "exec": "bash -c 'read cpu user nice system idle rest < /proc/stat; prev_total=$((user+nice+system+idle)); prev_idle=$idle; sleep 0.5; read cpu user nice system idle rest < /proc/stat; total=$((user+nice+system+idle)); diff_total=$((total-prev_total)); diff_idle=$((idle-prev_idle)); usage=$((100*(diff_total-diff_idle)/diff_total)); echo $usage'",
    "format": "{}% Ó∞ô",
    "tooltip": true,
    "tooltip-format": "Total CPU Usage: {}%",
    "interval": 1
  },

  "memory": {
    "format": "{}% Û∞çõ",
    "tooltip": true,
    "tooltip-format": "RAM usage: {used} GB / {total} GB ({percentage}%)"
  },

  "wlr/taskbar": {
    "format": "{icon}",
    "all-outputs": true,
    "active-first": true,
    "tooltip-format": "{name}",
    "on-click": "activate",
    "on-click-middle": "close",
    "ignore-list": [
      "rofi"
    ]
  },

  /* === Modules Center === */

  "hyprland/workspaces": {
    "format": "{icon}",
    "format-icons": {
      "default": "ÔÑë",
      "active": "ÓÇ∂ÓÇ¥"
    },
    "persistent-workspaces": {
      "*": 5
    },
    "disable-scroll": true,
    "all-outputs": true,
    "show-special": true
  },

  /* === Modules Right === */

  "pulseaudio": {
    "format": "{icon} {volume}",
    "format-bluetooth": "{icon} Ôäî {volume}%",
    "format-bluetooth-muted": "Û∞ùü {icon} Ôäî",
    "format-muted": "Û∞ùü {volume}",
    "tooltip-format": "{icon} {desc} // {volume}%",
    "scroll-step": 1,
    "format-icons": {
      "headphone": "ÔÄ•",
      "hands-free": "ÔÄ•",
      "headset": "ÔÄ•",
      "phone": "ÔÇï",
      "portable": "ÔÇï",
      "car": "ÔÜπ",
      "default": [
        "ÔÄ¶",
        "ÔÄß",
        "ÔÄ® "
      ]
    },
    "on-click": "pactl set-sink-mute 0 toggle",
    "on-click-right": "blueman-manager"
  },

  "backlight": {
    "format": "{icon} {percent}%",
    "interval": 2,
    "format-icons": [
      "Û∞πá",
      "Û∞Éú",
      "Û∞Éõ",
      "Û∞Éù",
      "Û∞Éü",
      "Û∞É†"
    ],
    "states": {
      "normal": 0,
      "warning": 80,
      "critical": 90
    },
    "on-click": "pgrep -x hyprsunset >/dev/null && pkill -x hyprsunset || hyprsunset",
    "on-scroll-down": "brightnessctl -q set 1%-",
    "on-scroll-up": "brightnessctl -q set 1%+",
    "tooltip": false
  },

  "custom/battery": {
    "exec": "bash -c 'capacity=$(cat /sys/class/power_supply/BAT0/capacity); status=$(cat /sys/class/power_supply/BAT0/status); icon=\"\"; if [ \"$status\" = \"Charging\" ] || { [ \"$status\" = \"Not charging\" ] && [ $capacity -eq 100 ]; }; then icon=\"Ôá¶\"; tooltip_text=\"$capacity% (AC Connected)\"; elif [ \"$status\" = \"Discharging\" ]; then if [ $capacity -ge 90 ]; then icon=\"ÔâÄ\"; elif [ $capacity -ge 70 ]; then icon=\"ÔâÅ\"; elif [ $capacity -ge 50 ]; then icon=\"ÔâÇ\"; elif [ $capacity -ge 30 ]; then icon=\"ÔâÉ\"; elif [ $capacity -ge 10 ]; then icon=\"ÔâÑ\"; else icon=\"ÔâÑ\"; fi; time_str=$(acpi -b | grep -i battery | awk -F\", \" \"{print \\$3}\"); hours=$(echo $time_str | cut -d: -f1); minutes=$(echo $time_str | cut -d: -f2); tooltip_text=\"$capacity% left. ${hours} hours and ${minutes} minutes remaining\"; else icon=\"ÔâÑ\"; tooltip_text=\"$capacity% ($status)\"; fi; echo \"{\\\"text\\\": \\\"$icon $capacity%\\\", \\\"tooltip\\\": \\\"$tooltip_text\\\"}\"'",
    "return-type": "json",
    "tooltip": true,
    "on-click": "",
    "interval": 1
  },

  "network": {
    "format": "Û∞ππ{bandwidthTotalBytes}",
    "format-disconnected": "ÔÑß No Internet",
    "format-linked": "{ifname} (No IP)",
    "format-alt": "ÔÅ¢ {bandwidthUpBytes} | ÔÅ£ {bandwidthDownBytes}",
    "format-wifi": "{essid}({signalStrength}%) Û∞ñ©",
    "format-ethernet": "üåê {ipaddr}/{cidr}",
    "tooltip-format-wifi": "Û∞ñ© {essid}({signalStrength}%)",
    "tooltip-format-ethernet": "üåê {ipaddr}/{cidr}",
    "tooltip-format-disconnected": "Û∞ñ™ Disconnected",
    "on-click-right": "kitty --title nmtui sh -c 'nmtui'",
    "interval": 2
  },
    "custom/notification": {
    "tooltip": true,
    "format": "<span size='16pt'>{icon}</span>",
    "format-icons": {
      "notification": "Û±Ö´",
      "none": "Û∞Çú",
      "dnd-notification": "Û∞Ç†",
      "dnd-none": "Û∞™ì",
      "inhibited-notification": "Û∞Çõ",
      "inhibited-none": "Û∞™ë",
      "dnd-inhibited-notification": "Û∞Çõ",
      "dnd-inhibited-none": "Û∞™ë"
    },
    "return-type": "json",
    "exec-if": "which swaync-client",
    "exec": "swaync-client -swb",
    "on-click": "swaync-client -t -sw",
    "on-click-right": "swaync-client -d -sw",
    "escape": true
  },

  "custom/power": {
    "format": "{}",
    "exec": "echo '{\"text\":\"‚èª\",\"tooltip\":\"Power\"}'",
    "return-type": "json",
    "on-click": "wlogout -b 5"
  }
}
